---
title: Feature flags
img: /assets/feature-flags.jpg
excerpt: "C'est un moyen de charger une page rapidement"
date: 2023-03-09
---

Les features flags sont un moyen pratique d'activer ou de desactiver des fonctionalites au sein d'une application.

---

Ces solutions resolvent des problemes lies au workflow de mise en production de nouvelle fonctionnalites .

Par exemple (c'est UN exemple parmis tant d'autres), certaines equipes adoptent un flow ou elles vont creer des branches `git` et faire leurs fonctionnalites dessus (qu'on pourrait appeller `feature branch`). Elles vont ensuite merger sur la branche principale uniquement lorsque le developpement de la fonctionnalite est terminee, et validee par les QAs. Cette branche peut donc exister et vivre en parallel de `main` (ou `master`) pendant quelques temps, peut etre meme pendant quelques mois.

Cette approche necessite d'etre relativement vigilent a la gestion des conflits lors du merge, ou a defaut d'etre operational et de remonter sa feature branch au meme niveau que la branche principale le plus frequement possible.

Par ailleurs, tester ces nouvelles fonctionnalites dans un contexte "reel" qui donnerait de la confiance avant de mettre en production (sur des environnements qu iseraient iso-production) peut etre complique a mettre en place.

Mais qu'est ce qui se passe si on doit faire marche arriere parce que la fonctionnalites, maintenant en production, ne repond pas aux attentes de l'equipe, ou pire, introduit des bugs critiques ?

## Moyens de faire (comment)

### Au build : les variables d'environnements

Il est possible d'utiliser les variables d'environnements pour jouer le role de feature flags et ainsi pouvoir activer ou desactiver des fonctionnalites **au moment du build** : vous devez re-builder votre application (et donc re-deployer) si vous souhaitez les utilisateurs avec des valeurs differentes.

Un exemple en pseudo-code (il faudrait l'adapter selon le framework utilise) :

```jsx
if (process.env.SHOW_NEW_FANCY_FEATURE === "true") {
  return <MyNewFancyFeature />;
}

return <OldFeature />;
```

### Au runtime : outils specifiques

Le meilleur moyen d'utiliser les feature flags selon moi, c'est au runtime : vous avez la capacite de les activer ou de les desactiver **a chaud** au travers d'un tableau de bord. Generalement, ce sont des outils supplementaire a connecter a votre project, tel que [Progressively](https://progressively.app).
