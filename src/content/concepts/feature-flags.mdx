---
title: Feature flags
img: /assets/feature-flags.jpg
excerpt: "C'est un moyen de charger une page rapidement"
date: 2023-03-09
---

Les features flags sont un moyen pratique d'activer ou de desactiver des fonctionalites au sein d'une application.

---

import { FeatureFlagExample } from "../../modules/concepts/feature-flags/FeatureFlagExample";

Au depart, ces solutions resolvaient des problemes lies au workflow de mise en production de nouvelle fonctionnalites.

En effet, au lieu d'utiliser des flows de travail et de deploiement tel que Gitflow, qui impliquerait d'implementer des fonctionalites dans des branches a part (_feature branches_) et de les deployer une fois qu'elles sont mergees sur la branche principale,
les feature flags sont un moyen d'activer ou de desactiver ces fonctionalites au moment du build ou meme pendant l'execution de l'application.

Ils ont l'enorme avantage de ne pas requerir de modification de code pour faire varier l'affichage de fonctionalites a l'utilisateur. C'est super pratique pour releaser une nouvelle version a une date precise, ou meme encore de desactiver une fonctionalites qui fait bugger l'appli.

Avec les feature flags, les applications qui sont en production embarque deja du code des releases suivantes, mais ce code ne s'execute pas : il est cache et attendra l'heure de l'activation du feature flag pour s'executer !

## Comment ca marche concretement ?

### Les variables d'environnements (au moment de builder)

Il est possible d'utiliser les variables d'environnements pour jouer le role de feature flags et ainsi pouvoir activer ou desactiver des fonctionnalites **au moment du build** : vous devez re-builder votre application (et donc re-deployer) si vous souhaitez montrer vos fonctionalites a vos utilisateurs.

Un exemple en pseudo-code (il faudrait l'adapter selon le framework utilise) :

```jsx
if (process.env.SHOW_NEW_FANCY_FEATURE === "true") {
  return <MyNewFancyFeature />;
}

return <OldFeature />;
```

### Des outils specifiques (a chaud, au runtime)

Le meilleur moyen d'utiliser les feature flags selon moi, c'est au runtime. Grace a des outils comme [Progressively](https://progressively.app), vous pouvez, simplement et en un click, activer en temps reel une fonctonalites a vos utilisateurs.

<FeatureFlagExample client:only />
